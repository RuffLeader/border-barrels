<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Off-Roadie Review | Border Barrels Blog</title>
  <link rel="stylesheet" href="/style.css">
   <style>
    .post-header {
      position: relative;
      height: 300px;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
    }
    .post-header::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.5);
    }
    .post-header h1 {
      position: relative;
      z-index: 1;
      font-size: 2rem;
    }
    .post-meta {
      text-align: center;
      margin: 1rem 0;
      color: #777;
    }
    .post-content {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1 class="page-title">Border Barrels Blog</h1>
      <nav id="nav-menu" class="nav-links">
        <a href="/index.html">Home</a>
        <a href="/beers.html">Beers</a>
        <a href="/episodes.html">Episodes</a>
        <a href="/blog/index.html">Blog</a>
        <a href="/about.html">About Us</a>
      </nav>
      <button id="nav-toggle" aria-label="Toggle navigation">
        <span class="burger"></span>
        <span class="burger"></span>
        <span class="burger"></span>
      </button>
    </div>
  </header>
  <!-- Header image & title will be injected -->
  <div id="post-header" class="post-header">
    <h1 id="post-title">Loading...</h1>
  </div>

  <div class="post-meta">
    <small id="post-date"></small>
  </div>

  <div class="post-content">
    <p>
      This is where your blog content goes. You can write whatever you like here,
      and the header image + title will be auto-loaded.
    </p>
    <p><a href="/blog/">← Back to Blog</a></p>
  </div>
    <footer>
    <div class="container">
      <p>© 2025 Border Barrels</p>
    </div>
  </footer>
  <script>
    async function loadPost() {
      const res = await fetch('/blog/posts.json');
      const posts = await res.json();

      // Get current slug from URL path
      const pathParts = window.location.pathname.split('/').filter(Boolean);
      const slug = pathParts[pathParts.length - 1]; // last part before /

      // Find post data
      const post = posts.find(p => p.slug === slug);

      if (post) {
        // Set header background
        const header = document.getElementById('post-header');
        header.style.backgroundImage = `url(${post.image})`;

        // Set title + date
        document.getElementById('post-title').textContent = post.title;
        document.getElementById('post-date').textContent =
          new Date(post.date).toLocaleDateString();

        // Update <title> for SEO
        document.title = `${post.title} | Border Barrels Blog`;
      }
    }

    loadPost();
    const navToggle = document.getElementById("nav-toggle");
const navMenu = document.getElementById("nav-menu");

navToggle.addEventListener("click", () => {
  navMenu.classList.toggle("show");
});
  </script>
</body>
</html>
