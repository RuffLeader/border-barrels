<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Border Barrels Hub</title>
<link rel="stylesheet" href="/style.css">
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    color: #002157;
    margin: 0;
    padding: 0;
    line-height: 1.6;
    display: flex;
    flex-direction: column;
    min-height: 100vh; /* Full viewport height */
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 1rem;
    text-align: center;
  }

  header {
    background-color: #002157;
    color: white;
    padding: 1rem 0;
    position: relative;
    z-index: 1000;
  }

  header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  header h1 {
    font-size: 2.5rem;
    font-weight: bold;
    text-transform: uppercase;
    margin: 1rem 0 0.5rem;
    letter-spacing: 1px;
  }

  footer {
    background-color: #002157;
    color: #ffffff;
    padding: 2rem 0;
    border-top: 2px solid #e0e0e0;
    font-size: 0.9rem;
    text-align: center;
    flex-shrink: 0; /* Prevent shrinking */
  }

  nav a {
    margin: 0 1rem;
    font-size: 1rem;
    color: #ffffff;
    text-decoration: none;
    padding: 0.5rem;
  }

  nav a:hover {
    color: #ffb400;
  }

  main.hub-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    flex: 1; /* Take remaining space */
    padding: 4rem 1rem; /* Vertical spacing above/below cards */
  }

  .hub-container {
    display: flex;
    flex-wrap: wrap;
    gap: 40px;
    justify-content: center;
    width: 90%;
    max-width: 1200px;
  }

  .hub-card-brew, .hub-card-beer {
    border: 2px solid rgba(218,165,32,0.5); /* gold with transparency */
  }

  .hub-card-brew {
    flex: 1 1 400px;
    max-width: 500px;
    height: 300px;
    background-image: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.2)), url('/media/generic-brewery.jpg');
    background-size: cover;   /* make it fill the button */
    background-position: center; /* center the image */
    background-repeat: no-repeat;
    color: white;
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 2rem;
    font-weight: bold;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
  }

  .hub-card-brew:hover {
    transform: translateY(-8px) scale(1.03);
    box-shadow: 0 12px 28px rgba(0,0,0,0.5);
  }

  .hub-card-brew::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(255,255,255,0.05);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .hub-card-brew:hover::after {
    opacity: 1; /* adds a subtle light sheen on hover */
  }

  .hub-card-brew span {
    position: relative;
    z-index: 1;
    text-shadow: 0 2px 6px rgba(0,0,0,0.7);
    letter-spacing: 1px;
    transition: transform 0.3s ease, color 0.3s ease;
  }
  
  .hub-card-brew:hover span {
    transform: scale(1.05);
    color: #ffb400; /* golden accent */
  }

  .hub-card-beer {
    flex: 1 1 400px;
    max-width: 500px;
    height: 300px;
    background-image: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.2)), url('/media/generic-beer.jpg');
    background-size: cover;   /* make it fill the button */
    background-position: center; /* center the image */
    background-repeat: no-repeat;
    color: white;
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 2rem;
    font-weight: bold;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
  }

  .hub-card-beer:hover {
    transform: translateY(-8px) scale(1.03);
    box-shadow: 0 12px 28px rgba(0,0,0,0.5);
  }

  .hub-card-beer::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(255,255,255,0.05);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .hub-card-beer:hover::after {
    opacity: 1; /* adds a subtle light sheen on hover */
  }

  .hub-card-beer span {
    position: relative;
    z-index: 1;
    text-shadow: 0 2px 6px rgba(0,0,0,0.7);
    letter-spacing: 1px;
    transition: transform 0.3s ease, color 0.3s ease;
  }
  
  .hub-card-beer:hover span {
    transform: scale(1.05);
    color: #ffb400; /* golden accent */
  }

  @media (max-width: 768px) {
    .hub-card-brew, .hub-card-beer {
      height: 200px;
      font-size: 1.5rem;
    }
  }

  .featured-beer-card {
    margin-top: 2rem;
    width: calc(500px * 2 + 40px); /* same width as two cards + gap */
    max-width: 100%;
    background: white;
    border: 2px solid rgba(218,165,32,0.5);
    border-radius: 20px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    overflow: hidden;
    padding-left: 5rem; /* moves content (including image) right */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-sizing: border-box; /* include padding in width */
  }
  
  .featured-beer-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 28px rgba(0,0,0,0.3);
  }
  
  .featured-beer-card img {
    height: 80%;
    max-height: 500px;
    width: auto;
    max-width: 250px;
    object-fit: contain;
    margin: 1rem 0 1rem 6rem;      /* top 1rem, right 0, bottom 1rem, left 3rem */
    padding: 0.5rem;               
    filter: drop-shadow(0 0 15px #002157); /* navy glow */
    background: none;              
    border: none;                  
    transition: filter 0.3s ease;  /* glow still transitions if needed */
  }
  
  .featured-beer-info {
    flex: 1;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center; /* vertical centering */
    align-items: center;     /* horizontal centering */
    text-align: center;      /* center text */
    color: #002157;
  }
  
  .featured-beer-info h3 {
    margin: 0.2rem 0 0.8rem;
    font-size: 1.3rem;
    color: #ffb400;
  }
  
  .featured-beer-info p {
    margin: 0.25rem 0;
    font-size: 1rem;
  }
  
  .featured-beer-info .score {
    margin-top: 0.6rem;
    font-size: 1.1rem;
    font-weight: bold;
    color: #002157;
  }
  @media (max-width: 1100px) {
    .featured-beer-card {
      width: 100%;
      flex-direction: column; /* stack image above info */
      height: auto;
    }
  
    .featured-beer-card img {
      max-width: 100%;
      border-right: none;
      border-bottom: 2px solid rgba(218,165,32,0.3);
    }
  
    .featured-beer-info {
      text-align: center;
    }
  }
</style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Breweries</h1>
      <button id="nav-toggle" aria-label="Toggle navigation">
        <span class="burger"></span>
        <span class="burger"></span>
        <span class="burger"></span>
      </button>
      <nav id="nav-menu">
        <a href="/index.html">Home</a>
        <a href="/beerandbrew.html">Beers & Breweries</a>
        <a href="/episodes.html">Episodes</a>
        <a href="/blog/index.html">Blog</a>
        <a href="/about.html">About Us</a>
      </nav>
    </div>
  </header>

  <main class="hub-wrapper">
    <div class="hub-container">
      <a href="/beers.html" class="hub-card-beer">Browse Beers</a>
      <a href="/breweries/index.html" class="hub-card-brew">Browse Breweries</a>
      <div id="featured-beer-container"></div>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Border Barrels</p>
  </footer>

<script src="/beers.js"></script>
<script>
  // Mobile nav toggle
  const navToggle = document.getElementById("nav-toggle");
  const navMenu = document.getElementById("nav-menu");

  navToggle.addEventListener("click", () => {
    navMenu.classList.toggle("show");
  });

  // Pick random beer from beers.js
  function getRandomBeer(beers) {
    const index = Math.floor(Math.random() * beers.length);
    return beers[index];
  }

  // Calculate rank based on a specific key
  function getRank(array, beer, key) {
    const sorted = [...array].sort((a, b) => b[key] - a[key]);
    return sorted.findIndex(b => b.id === beer.id) + 1;
  }

  document.addEventListener("DOMContentLoaded", () => {
    if (typeof beers !== "undefined" && Array.isArray(beers) && beers.length > 0) {
      const randomBeer = getRandomBeer(beers);

      const bbbrsRank = getRank(beers, randomBeer, "bbbrsScore");
      const untappdRank = getRank(beers, randomBeer, "untappdScore");

      const container = document.getElementById("featured-beer-container");
      container.innerHTML = `
        <div class="featured-beer-card">
          <img src="${randomBeer.beerCanUrl}" alt="${randomBeer.name}" />
          <div class="featured-beer-info">
            <h3>${randomBeer.brewery}</h3>
            <h2>${randomBeer.name}</h2>
            <p>${randomBeer.style} | ${randomBeer.abv}%</p>
            <p>Episode Number: ${randomBeer.epnum}</p>
            <p>BBBRS: ${randomBeer.bbbrsScore} | Untappd: ${randomBeer.untappdScore}</p>
            <p>BBBRS Rank: ${bbbrsRank} | Untappd Rank: ${untappdRank}</p>
          </div>
        </div>
      `;
    }
  });
</script>
</body>
</html>
